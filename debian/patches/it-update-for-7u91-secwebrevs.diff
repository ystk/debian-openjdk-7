--- a/patches/boot/ecj-trywithresources.patch
+++ b/patches/boot/ecj-trywithresources.patch
@@ -1298,9 +1298,9 @@
 --- openjdk-boot.orig/jdk/src/share/classes/sun/security/krb5/internal/ccache/FileCredentialsCache.java	2015-01-08 18:26:59.716746329 +0000
 +++ openjdk-boot/jdk/src/share/classes/sun/security/krb5/internal/ccache/FileCredentialsCache.java	2015-01-16 02:58:39.413460990 +0000
 @@ -159,18 +154,33 @@
+     synchronized void init(PrincipalName principal, String name)
          throws IOException, KrbException {
          primaryPrincipal = principal;
-         primaryRealm = principal.getRealm();
 -        try (FileOutputStream fos = new FileOutputStream(name);
 -             CCacheOutputStream cos = new CCacheOutputStream(fos)) {
 +        FileOutputStream fos = null;
